<!DOCTYPE html>
<html lang="en" dir="ltr" class="client-nojs">
<head>
<title>User:Legalize/CMake - cppreference.com</title>
<meta charset="UTF-8" />
<meta name="generator" content="MediaWiki 1.21.2" />
<link rel="shortcut icon" href="../../favicon.ico" />
<link rel="search" type="application/opensearchdescription+xml" href="http://en.cppreference.com/mwiki/opensearch_desc.php" title="cppreference.com (en)" />
<link rel="EditURI" type="application/rsd+xml" href="http://en.cppreference.com/mwiki/api.php?action=rsd" />
<link rel="alternate" type="application/atom+xml" title="cppreference.com Atom feed" href="http://en.cppreference.com/mwiki/index.php?title=Special:RecentChanges&amp;feed=atom" />
<link rel="stylesheet" href="../../mwiki/load.php%3Fdebug=false&amp;lang=en&amp;modules=ext.gadget.ColiruCompiler%257Cext.rtlcite%257Cmediawiki.legacy.commonPrint%252Cshared%257Cskins.cppreference2&amp;only=styles&amp;skin=cppreference2&amp;*.css" />
<meta name="ResourceLoaderDynamicStyles" content="" />
<link rel="stylesheet" href="../../mwiki/load.php%3Fdebug=false&amp;lang=en&amp;modules=site&amp;only=styles&amp;skin=cppreference2&amp;*.css" />
<style>a:lang(ar),a:lang(ckb),a:lang(fa),a:lang(kk-arab),a:lang(mzn),a:lang(ps),a:lang(ur){text-decoration:none}#toc{display:none}.editsection{display:none}
/* cache key: mwiki1-mwiki_en_:resourceloader:filter:minify-css:7:472787eddcf4605d11de8c7ef047234f */</style>

<script src="../../mwiki/load.php%3Fdebug=false&amp;lang=en&amp;modules=startup&amp;only=scripts&amp;skin=cppreference2&amp;*"></script>
<script>if(window.mw){
mw.config.set({"wgCanonicalNamespace":"User","wgCanonicalSpecialPageName":false,"wgNamespaceNumber":2,"wgPageName":"User:Legalize/CMake","wgTitle":"Legalize/CMake","wgCurRevisionId":73077,"wgArticleId":13770,"wgIsArticle":true,"wgAction":"view","wgUserName":null,"wgUserGroups":["*"],"wgCategories":[],"wgBreakFrames":false,"wgPageContentLanguage":"en","wgSeparatorTransformTable":["",""],"wgDigitTransformTable":["",""],"wgDefaultDateFormat":"dmy","wgMonthNames":["","January","February","March","April","May","June","July","August","September","October","November","December"],"wgMonthNamesShort":["","Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],"wgRelevantPageName":"User:Legalize/CMake","wgRestrictionEdit":[],"wgRestrictionMove":[]});
}</script><script>if(window.mw){
mw.loader.implement("user.options",function(){mw.user.options.set({"ccmeonemails":0,"cols":80,"date":"default","diffonly":0,"disablemail":0,"disablesuggest":0,"editfont":"default","editondblclick":0,"editsection":0,"editsectiononrightclick":0,"enotifminoredits":0,"enotifrevealaddr":0,"enotifusertalkpages":1,"enotifwatchlistpages":0,"extendwatchlist":0,"externaldiff":0,"externaleditor":0,"fancysig":0,"forceeditsummary":0,"gender":"unknown","hideminor":0,"hidepatrolled":0,"imagesize":2,"justify":0,"math":1,"minordefault":0,"newpageshidepatrolled":0,"nocache":0,"noconvertlink":0,"norollbackdiff":0,"numberheadings":0,"previewonfirst":0,"previewontop":1,"quickbar":5,"rcdays":7,"rclimit":50,"rememberpassword":0,"rows":25,"searchlimit":20,"showhiddencats":0,"showjumplinks":1,"shownumberswatching":1,"showtoc":0,"showtoolbar":1,"skin":"cppreference2","stubthreshold":0,"thumbsize":2,"underline":2,"uselivepreview":0,"usenewrc":0,"watchcreations":0,"watchdefault":0,"watchdeletion":0,
"watchlistdays":3,"watchlisthideanons":0,"watchlisthidebots":0,"watchlisthideliu":0,"watchlisthideminor":0,"watchlisthideown":0,"watchlisthidepatrolled":0,"watchmoves":0,"wllimit":250,"variant":"en","language":"en","searchNs0":true,"searchNs1":false,"searchNs2":false,"searchNs3":false,"searchNs4":false,"searchNs5":false,"searchNs6":false,"searchNs7":false,"searchNs8":false,"searchNs9":false,"searchNs10":false,"searchNs11":false,"searchNs12":false,"searchNs13":false,"searchNs14":false,"searchNs15":false,"gadget-ColiruCompiler":1});;},{},{});mw.loader.implement("user.tokens",function(){mw.user.tokens.set({"editToken":"+\\","patrolToken":false,"watchToken":false});;},{},{});
/* cache key: mwiki1-mwiki_en_:resourceloader:filter:minify-js:7:ca03345b1e2c4d90a25d968753a73b92 */
}</script>
<script>if(window.mw){
mw.loader.load(["mediawiki.page.startup","mediawiki.legacy.wikibits","mediawiki.legacy.ajax"]);
}</script>
<!--[if lt IE 7]><style type="text/css">body{behavior:url("/mwiki/skins/cppreference2/csshover.min.htc")}</style><![endif]--></head>
<body class="mediawiki ltr sitedir-ltr ns-2 ns-subject page-User_Legalize_CMake skin-cppreference2 action-view">
        <!-- header -->
        <div id="mw-head" class="noprint">
            <div id="cpp-head-first-base">
                <div id="cpp-head-first">
                    <h5><a href="http://en.cppreference.com/">
                        cppreference.com                        </a></h5>
                    <div id="cpp-head-search">
                        
<!-- 0 -->
<div id="p-search">
	<h5><label for="searchInput">Search</label></h5>
	<form action="http://en.cppreference.com/mwiki/index.php" id="searchform">
		<input type='hidden' name="title" value="Special:Search"/>
				<div id="simpleSearch">
						<input name="search" title="Search cppreference.com [f]" accesskey="f" id="searchInput" />						<button type="submit" name="button" title="Search the pages for this text" id="searchButton"><img src="../../mwiki/skins/cppreference2/images/search-ltr.png%3F303" alt="Search" /></button>					</div>
			</form>
</div>

<!-- /0 -->
                    </div>
                    <div id="cpp-head-personal">
                        
<!-- 0 -->
<div id="p-personal" class="">
<span id="pt-createaccount"><a href="http://en.cppreference.com/mwiki/index.php?title=Special:UserLogin&amp;returnto=User%3ALegalize%2FCMake&amp;type=signup">Create account</a></span>	<div class="menu">
        <ul>
<li id="pt-login"><a href="http://en.cppreference.com/mwiki/index.php?title=Special:UserLogin&amp;returnto=User%3ALegalize%2FCMake" title="You are encouraged to log in; however, it is not mandatory [o]" accesskey="o">Log in</a></li>        </ul>
    </div>
</div>

<!-- /0 -->
                    </div>

                </div>
            </div>
            <div id="cpp-head-second-base">
                <div id="cpp-head-second">
                    <div id="cpp-head-tools-left">
                        
<!-- 0 -->
<div id="p-namespaces" class="vectorTabs">
	<h5>Namespaces</h5>
	<ul>
					<li  id="ca-nstab-user" class="selected"><span><a href="CMake.html"  title="View the user page [c]" accesskey="c">User page</a></span></li>
					<li  id="ca-talk"><span><a href="../User_talk:Legalize/CMake.html"  title="Discussion about the content page [t]" accesskey="t">Discussion</a></span></li>
			</ul>
</div>

<!-- /0 -->

<!-- 1 -->
<div id="p-variants" class="vectorMenu emptyPortlet">
		<h5><span>Variants</span><a href="CMake.html#"></a></h5>
	<div class="menu">
		<ul>
					</ul>
	</div>
</div>

<!-- /1 -->
                    </div>
                    <div id="cpp-head-tools-right">
                        
<!-- 0 -->
<div id="p-views" class="vectorTabs">
	<h5>Views</h5>
	<ul>
					<li id="ca-view" class="selected"><span><a href="CMake.html" >View</a></span></li>
					<li id="ca-viewsource"><span><a href="http://en.cppreference.com/mwiki/index.php?title=User:Legalize/CMake&amp;action=edit"  title="This page is protected.&#10;You can view its source [e]" accesskey="e">View source</a></span></li>
					<li id="ca-history" class="collapsible"><span><a href="http://en.cppreference.com/mwiki/index.php?title=User:Legalize/CMake&amp;action=history"  title="Past revisions of this page [h]" accesskey="h">History</a></span></li>
			</ul>
</div>

<!-- /0 -->

<!-- 1 -->
<div id="p-cactions" class="vectorMenu emptyPortlet">
	<h5><span>Actions</span><a href="CMake.html#"></a></h5>
	<div class="menu">
		<ul>
					</ul>
	</div>
</div>

<!-- /1 -->
                    </div>
                </div>
            </div>
        </div>
        <!-- /header -->
        <!-- content -->
        <div id="cpp-content-base">
            <div id="content">
                <a id="top"></a>
                <div id="mw-js-message" style="display:none;"></div>
                                <!-- firstHeading -->
                <h1 id="firstHeading" class="firstHeading">User:Legalize/CMake</h1>
                <!-- /firstHeading -->
                <!-- bodyContent -->
                <div id="bodyContent">
                                        <!-- tagline -->
                    <div id="siteSub">From cppreference.com</div>
                    <!-- /tagline -->
                                        <!-- subtitle -->
                    <div id="contentSub"><span class="subpages">&lt; <a href="../User:Legalize.html" title="User:Legalize">User:Legalize</a></span></div>
                    <!-- /subtitle -->
                                                            <!-- bodycontent -->
                    <div id="mw-content-text" lang="en" dir="ltr" class="mw-content-ltr"><table id="toc" class="toc"><tr><td><div id="toctitle"><h2>Contents</h2></div>
<ul>
<li class="toclevel-1 tocsection-1"><a href="CMake.html#An_Overview_of_Build_Systems"><span class="tocnumber">1</span> <span class="toctext">An Overview of Build Systems</span></a></li>
<li class="toclevel-1 tocsection-2"><a href="CMake.html#CMake"><span class="tocnumber">2</span> <span class="toctext">CMake</span></a></li>
<li class="toclevel-1 tocsection-3"><a href="CMake.html#Execution"><span class="tocnumber">3</span> <span class="toctext">Execution</span></a></li>
<li class="toclevel-1 tocsection-4"><a href="CMake.html#Hello.2C_CMake.21"><span class="tocnumber">4</span> <span class="toctext">Hello, CMake!</span></a></li>
</ul>
</td></tr></table>
<h1> <span class="mw-headline" id="An_Overview_of_Build_Systems"> An Overview of Build Systems </span></h1>
<p>In C++, source files are <a href="../cpp/language/translation_phases.html" title="cpp/language/translation phases">preprocessed and compiled</a> into translation units which are then linked to produce targets.  The preprocessor, compiler, and linker typically exist as one or more executables in the development environment, driven by command-line arguments.
</p><p>Traditional <a rel="nofollow" class="external text" href="http://en.wikipedia.org/wiki/Build_automation">build systems</a>, such as <a rel="nofollow" class="external text" href="http://en.wikipedia.org/wiki/Make_(software)">make</a>, record these commands and their arguments and associate them with groups of files in a dependency graph.  The dependency graph records the textual inclusion relationship between source files: a source <code>.cpp</code> file that includes a header <code>.h</code> file has a dependency on the contents of the header file).  The dependency graph also includes link dependencies: a target depends on one or more translation units, either directly as local object files, or indirectly through libraries.
</p><p>Some integrated development environments, such as <a rel="nofollow" class="external text" href="http://en.wikipedia.org/wiki/Microsoft_Visual_Studio">Visual Studio</a> and <a rel="nofollow" class="external text" href="http://en.wikipedia.org/wiki/Xcode">Xcode</a>, record the build information in their own file format.  Some development environments, such as <a rel="nofollow" class="external text" href="http://en.wikipedia.org/wiki/Vim_(text_editor)">vim</a> or <a rel="nofollow" class="external text" href="http://en.wikipedia.org/wiki/Emacs">emacs</a>, may rely entirely on an external build system that is invoked from the development environment.
</p>
<h1> <span class="mw-headline" id="CMake"> CMake </span></h1>
<p><a rel="nofollow" class="external text" href="http://en.wikipedia.org/wiki/CMake">CMake</a> differs from other build systems by acting as a meta build system, recording information that is used to generate a build script for another build system: make, Visual Studio, Xcode, etc.  An earlier meta build system, <a rel="nofollow" class="external text" href="http://en.wikipedia.org/wiki/Imake">imake</a>, was implemented with the C preprocessor and make.  CMake is implemented as a standalone executable with no additional dependencies.  CMake is designed to be a portable to any operating system supporting C and C++ compilation.
</p><p>CMake achieves portability between environments for projects by recording information about targets in a generic manner.  Information specific to a particular build environment can also be provided, such as a preferred organization of source files for navigation in an IDE.  When a project supports multiple operating systems, it is often the case that some source files are processed differently to provide operating system specific code.  This can be as simple as selecting a different set of source files for each operating system, or it can be as complex as distributing certain preprocessor symbol definitions across translation units.  CMake supports these scenarios by providing commands for common operations and their command-line options.  Like <a rel="nofollow" class="external text" href="http://en.wikipedia.org/wiki/Autoconf">autoconf</a> and <a rel="nofollow" class="external text" href="http://en.wikipedia.org/wiki/Configure_script">configure scripts</a>, CMake has mechanisms for probing and testing the target environment.
</p>
<h1> <span class="mw-headline" id="Execution"> Execution </span></h1>
<p>Commands to CMake are provided in a CMake <i>lists file</i>, usually named <code>CMakeLists.txt</code>.  The commands describe the source files, directories and targets in a project.  The user runs CMake and supplies the top-level directory location of the project and desired generator.  CMake generates the build script for the project using the specified generator.
</p><p>Depending on where CMake was told to create the project build script, CMake can be used <i>in tree</i> or <i>out of tree</i>.  An <i>in tree</i> build is one where the project build script and outputs of the build are created in the same directories where source files are contained.  An <i>out of tree</i> build creates the project build script and outputs of the build are created in a separate directory tree from the source files.  For projects that build with multiple variants, or projects that <a rel="nofollow" class="external text" href="http://en.wikipedia.org/wiki/Cross_compiler">cross compile</a>, it can be more convenient to have an out of tree build for each variant.
</p><p>The project's lists file is processed by CMake using the following steps:
</p>
<ul><li> Create a global <code>cmake</code> object which processes command-line arguments.
</li><li> Create the appropriate global generator.
</li><li> Create the appropriate local generator for the top-level lists file.
</li><li> The local generator holds one <code>cmMakefile</code> object representing its parsed lists file.
</li></ul>
<h1> <span class="mw-headline" id="Hello.2C_CMake.21"> Hello, CMake! </span></h1>
<p>Here is a simple <code>CMakeLists.txt</code> lists file that creates an executable named <code>hello_world</code> from a single source file <code>hello_world.cpp</code>:
</p>
<pre>
cmake_minimum_required(VERSION 2.8.11)
project(hello_world CXX)
add_executable(hello_world hello_world.cpp)
</pre>
<p>A lists file is so-named because it contains a list of CMake commands.  Each command has a name, such as <code>cmake_minimum_required</code> or <code>add_executable</code> and an optional list of arguments enclosed in parentheses.  If there are no arguments to the command, the parentheses are still required.  Commands can accept keyword based arguments, such as <code>VERSION 2.8.11</code>.
</p><p>The <code>cmake_minimum_required</code> command defines the minimum version of CMake needed to build this project.
</p><p>The <code>project</code> command names the project and that it is a C++ project.  The project name may be used by generators to create build script files, such as a Visual Studio solution or project file.
</p><p>The <code>add_executable</code> command defines an executable target, <code>hello_world</code> to be built from a list of source files, <code>hello_word.cpp</code>.
</p><p>CMake knows how to compile C++ source files into object files and how to link object files into a target, so no additional information is necessary.  The generators used with CMake include additional logic to regenerate the build script when the lists file changes.
</p>
<!-- 
NewPP limit report
Preprocessor visited node count: 17/1000000
Preprocessor generated node count: 40/1000000
Post‐expand include size: 0/2097152 bytes
Template argument size: 0/2097152 bytes
Highest expansion depth: 2/40
Expensive parser function count: 0/100
-->

<!-- Saved in parser cache with key mwiki1-mwiki_en_:pcache:idhash:13770-0!*!0!!en!*!* and timestamp 20141012014556 -->
</div>                    <!-- /bodycontent -->
                                        <!-- printfooter -->
                    <div class="printfooter">
                    Retrieved from "<a href="http://en.cppreference.com/mwiki/index.php?title=User:Legalize/CMake&amp;oldid=73077">http://en.cppreference.com/mwiki/index.php?title=User:Legalize/CMake&amp;oldid=73077</a>"                    </div>
                    <!-- /printfooter -->
                                                            <!-- catlinks -->
                    <div id='catlinks' class='catlinks catlinks-allhidden'></div>                    <!-- /catlinks -->
                                                            <div class="visualClear"></div>
                    <!-- debughtml -->
                                        <!-- /debughtml -->
                </div>
                <!-- /bodyContent -->
            </div>
        </div>
        <!-- /content -->
        <!-- footer -->
        <div id="cpp-footer-base" class="noprint">
            <div id="footer">
                        <div id="cpp-navigation">
            <h5>Navigation</h5>
            <ul>
<li id="n-Support-us"><a href="http://www.cppreference.com/support" rel="nofollow">Support us</a></li><li id="n-recentchanges"><a href="../Special:RecentChanges.html" title="A list of recent changes in the wiki [r]" accesskey="r">Recent changes</a></li><li id="n-FAQ"><a href="../Cppreference:About.html">FAQ</a></li><li id="n-Offline-version"><a href="../Cppreference:Archives.html">Offline version</a></li>            </ul>
        </div>
                        <div id="cpp-toolbox">
            <h5><span>Toolbox</span><a href="CMake.html#"></a></h5>
            <ul>
<li id="t-whatlinkshere"><a href="../Special:WhatLinksHere/User:Legalize/CMake.html" title="A list of all wiki pages that link here [j]" accesskey="j">What links here</a></li><li id="t-recentchangeslinked"><a href="../Special:RecentChangesLinked/User:Legalize/CMake.html" title="Recent changes in pages linked from this page [k]" accesskey="k">Related changes</a></li><li id="t-contributions"><a href="../Special:Contributions/Legalize.html" title="A list of contributions of this user">User contributions</a></li><li id="t-log"><a href="../Special:Log/Legalize.html">Logs</a></li><li id="t-upload"><a href="http://upload.cppreference.com/w/Special:Upload" title="Upload files [u]" accesskey="u">Upload file</a></li><li id="t-specialpages"><a href="../Special:SpecialPages.html" title="A list of all special pages [q]" accesskey="q">Special pages</a></li><li id="t-print"><a href="http://en.cppreference.com/mwiki/index.php?title=User:Legalize/CMake&amp;printable=yes" rel="alternate" title="Printable version of this page [p]" accesskey="p">Printable version</a></li><li id="t-permalink"><a href="http://en.cppreference.com/mwiki/index.php?title=User:Legalize/CMake&amp;oldid=73077" title="Permanent link to this revision of the page">Permanent link</a></li><li id="t-info"><a href="http://en.cppreference.com/mwiki/index.php?title=User:Legalize/CMake&amp;action=info">Page information</a></li>            </ul>
        </div>
                            <ul id="footer-info">
                                    <li id="footer-info-lastmod"> This page was last modified on 11 October 2014, at 09:40.</li>
                                    <li id="footer-info-viewcount">This page has been accessed 24 times.</li>
                            </ul>
                    <ul id="footer-places">
                                    <li id="footer-places-privacy"><a href="../Cppreference:Privacy_policy.html" title="Cppreference:Privacy policy">Privacy policy</a></li>
                                    <li id="footer-places-about"><a href="../Cppreference:About.html" title="Cppreference:About">About cppreference.com</a></li>
                                    <li id="footer-places-disclaimer"><a href="../Cppreference:General_disclaimer.html" title="Cppreference:General disclaimer">Disclaimers</a></li>
                            </ul>
                                    <ul id="footer-icons" class="noprint">
                                    <li id="footer-poweredbyico">
                                            <a href="http://www.mediawiki.org/"><img src="../../mwiki/skins/common/images/poweredby_mediawiki_88x31.png" alt="Powered by MediaWiki" width="88" height="31" /></a>                                            <a href="http://qbnz.com/highlighter/"><img src="http://upload.cppreference.com/mwiki/images/2/2b/powered_by_geshi_88x31.png" alt="Powered by GeSHi" height="31" width="88" /></a>                                            <a href="http://www.tigertech.net/referral/cppreference.com"><img src="http://upload.cppreference.com/mwiki/images/9/94/powered_by_tigertech_88x31.png" alt="Hosted by Tiger Technologies" height="31" width="88" /></a>                                        </li>
                                </ul>
                        <div style="clear:both">
            </div>
            </div>
        </div>
        <!-- /footer -->
        <script>if(window.mw){
mw.loader.state({"site":"loading","user":"missing","user.groups":"ready"});
}</script>
<script src="../../mwiki/load.php%3Fdebug=false&amp;lang=en&amp;modules=skins.cppreference2&amp;only=scripts&amp;skin=cppreference2&amp;*"></script>
<script>if(window.mw){
mw.loader.load(["mediawiki.action.view.postEdit","mediawiki.user","mediawiki.page.ready","mediawiki.searchSuggest","mediawiki.hidpi","ext.gadget.ColiruCompiler"], null, true);
}</script>
<script src="../../mwiki/load.php%3Fdebug=false&amp;lang=en&amp;modules=site&amp;only=scripts&amp;skin=cppreference2&amp;*"></script>
<script type="text/javascript">
var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");
document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));
</script>
<script type="text/javascript">
var _gaq = _gaq || [];
_gaq.push(['_setAccount', 'UA-2828341-1']);
_gaq.push(['_setDomainName', 'cppreference.com']);
_gaq.push(['_trackPageview']);
</script><!-- Served in 0.076 secs. -->
	</body>
<!-- Cached 20141012132249 -->
</html>
